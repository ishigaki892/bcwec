:root{--bg:#f6f8fb;--card:#fff;--accent:#0b63d0;--muted:#6b7280;--today-bg: #e6f7e8;}
*{box-sizing:border-box}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans JP',Meiryo, sans-serif;background:var(--bg);margin:0;padding:18px}
.container{max-width:1500px;margin:0 auto;display:flex;gap:24px}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.h-left{display:flex;gap:12px;align-items:center}
button{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
.btn-ghost{background:transparent;color:var(--accent);border:1px solid rgba(11,99,208,0.14)}
.card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(10,12,20,0.06)}
.calendar-view{flex:1 1 70%;}
.calendar{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
.month{padding:10px}
.month-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.weekday{padding:6px;text-align:center;font-weight:700;color:var(--muted);background:#fff;border-radius:6px}
.day{min-height:96px;padding:8px;background:#fff;border-radius:8px;border:1px solid rgba(0,0,0,0.04);position:relative;overflow:hidden;cursor:pointer}
.day.disabled{opacity:0.36}
.day.today{background-color: var(--today-bg); border-color: #a3e8a3;}
.day.selected{border: 2px solid var(--accent); box-shadow: 0 0 0 2px rgba(11, 99, 208, 0.2);}
.day-number{position:absolute;top:8px;right:10px;font-size:12px;color:var(--muted)}
.events{margin-top:26px;display:flex;flex-direction:column;gap:6px}
.event{padding:6px;border-radius:6px;font-size:13px;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#111}
.event .title{display:inline-block;max-width:100%}
.legend{display:flex;gap:8px;flex-wrap:wrap}
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);padding:10px;}
.modal.open{display:flex}
.form{background:#fff;padding:16px;border-radius:10px;min-width:320px;max-width:760px;max-height:100%;overflow-y:auto;}
.form label{display:block;margin-top:8px;font-size:13px}
.form input[type=text],.form textarea, .form select, .form input[type=date], .form input[type=time], .form input[type=number]{width:100%;padding:8px;border-radius:8px;border:1px solid #e6eef6}
.row{display:flex;gap:8px}
.small{font-size:12px;color:var(--muted)}
.context{position:absolute;z-index:40;background:#fff;border-radius:8px;padding:8px;box-shadow:0 8px 24px rgba(0,0,0,0.15);min-width:220px}
.context .ctx-item{padding:6px;border-bottom:1px solid #eee;cursor:pointer}
.context .ctx-item:last-child{border-bottom:none}
.cat-pill{display:inline-block;padding:3px 8px;border-radius:999px;font-size:12px;color:#fff}
.flex-between{display:flex;justify-content:space-between;align-items:center}
/* 左サイドバーのスタイル */
.sidebar{flex:0 0 300px;
  padding:14px;
  background:var(--card);
  border-radius:12px;
  box-shadow:0 6px 20px rgba(10,12,20,0.06);
  position:sticky;
  top:18px;
  height:calc(100vh - 36px);
  overflow-y:auto;
}
.event-list{margin-top:12px;}
.event-list-item{padding:8px;border-bottom:1px solid #eee;cursor:pointer}
.event-list-item:last-child{border-bottom:none}
.event-list-item .title{font-weight:bold;margin-top:4px}
.event-list-item .desc{font-size:13px;color:var(--muted);margin-top:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
@media(max-width:900px){
  .container{flex-direction:column}
  .sidebar{width:100%;position:static;height:auto;}
  .calendar{grid-template-columns:1fr}
}
/* 月ビュー（2カ月横並び） */
.calendar {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}

/* 週ビュー全体 */
.week-view {
  margin-top: 12px;
}

/* 日ビュー全体 */
.day-view {
  background: var(--card);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 6px 20px rgba(10,12,20,0.06);
}

/* 週ビュー全体のレイアウト */
.week-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
  margin-top: 12px;
}

/* 週ビューの各日セル */
.week-grid .day-cell {
  min-height: 150px;
  background: #fff;
  border-radius: 8px;
  border: 1px solid rgba(0,0,0,0.04);
  padding: 6px;
  position: relative;
}

/* 週ビューの日付ヘッダー */
.week-grid .day-header {
  font-weight: bold;
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 6px;
  text-align: right;
}

/* 週ビューのイベント表示 */
.week-grid .event {
  padding: 4px;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-bottom: 4px;
  color: #111;
}

/* 日ビュー全体 */
.day-view {
  background: #fff;
  border-radius: 8px;
  border: 1px solid rgba(0,0,0,0.04);
  padding: 12px;
  box-shadow: 0 6px 20px rgba(10,12,20,0.06);
}

/* 日ビューの日付タイトル */
.day-view h3 {
  margin-top: 0;
  font-size: 16px;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
}

/* 日ビューのイベントリスト */
.day-view .event-list-item {
  padding: 8px;
  border-bottom: 1px solid #eee;
  cursor: pointer;
}
.day-view .event-list-item:last-child {
  border-bottom: none;
}
/* 共通タイムラインレイアウト */
.timeline-container {
  position: relative;
  border-left: 1px solid #ddd;
  height: calc(24 * 50px); /* 1時間50pxの場合 */
}

.timeline-hour {
  position: absolute;
  left: -40px;
  width: 35px;
  text-align: right;
  font-size: 11px;
  color: var(--muted);
}

/* イベント表示 */
.timeline-event {
  position: absolute;
  left: 0;
  right: 4px;
  background: var(--accent);
  color: #000000;
  border-radius: 4px;
  padding: 2px 4px;
  font-size: 12px;
  overflow: hidden;
}
/* 終日イベントエリア */
.all-day-container {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 8px;
}

.all-day-event {
  background: var(--accent);
  color: #000000;
  border-radius: 4px;
  padding: 2px 6px;
  font-size: 12px;
  cursor: pointer;
}

/* タイムラインイベントの重なり回避用 */
.timeline-event {
  position: absolute;
  border-radius: 4px;
  padding: 2px 4px;
  font-size: 12px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: #000000;
}
